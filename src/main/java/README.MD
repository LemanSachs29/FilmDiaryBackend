# FilmDiary - AplicaciÃ³n de Diario de PelÃ­culas

## ğŸ“‹ DescripciÃ³n del Proyecto

FilmDiary es una aplicaciÃ³n web completa para llevar un registro personal de pelÃ­culas vistas y por ver. Integra con la API de TMDB para bÃºsqueda de pelÃ­culas y permite a los usuarios crear su diario personal y wishlist.

## ğŸ—ï¸ Arquitectura

- **Backend**: Spring Boot + MariaDB + JWT + IntegraciÃ³n TMDB
- **Frontend**: HTML + Bootstrap 5 + JavaScript vanilla (pÃ¡ginas tradicionales)

## ğŸ“ Estructura del Proyecto

```
film-diary-backend/
â”œâ”€â”€ src/                          # CÃ³digo Java Spring Boot
â”œâ”€â”€ frontend/                     # AplicaciÃ³n web frontend
â”‚   â”œâ”€â”€ index.html               # Login/Registro
â”‚   â”œâ”€â”€ dashboard.html           # Dashboard principal  
â”‚   â”œâ”€â”€ search.html              # BÃºsqueda de pelÃ­culas
â”‚   â”œâ”€â”€ movie-detail.html        # Detalles de pelÃ­cula
â”‚   â”œâ”€â”€ diary.html               # Diario con tabla
â”‚   â”œâ”€â”€ watchlist.html           # Lista de pelÃ­culas por ver
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ bootstrap.min.css    # Bootstrap 5
â”‚   â”‚   â””â”€â”€ styles.css           # Estilos personalizados
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ api.js               # Clase para comunicaciÃ³n con backend
â”‚   â”‚   â”œâ”€â”€ auth.js              # Login/registro (index.html)
â”‚   â”‚   â”œâ”€â”€ dashboard.js         # Dashboard
â”‚   â”‚   â”œâ”€â”€ search.js            # BÃºsqueda pelÃ­culas
â”‚   â”‚   â”œâ”€â”€ movie-detail.js      # Detalles pelÃ­cula
â”‚   â”‚   â”œâ”€â”€ diary.js             # Diario
â”‚   â”‚   â””â”€â”€ watchlist.js         # Watchlist
â”‚   â””â”€â”€ assets/images/           # ImÃ¡genes estÃ¡ticas
```

## ğŸ”Œ API Endpoints (Backend)

### AutenticaciÃ³n
- `POST /api/auth/login` - Iniciar sesiÃ³n
- `POST /api/auth/register` - Registrar usuario

### BÃºsqueda de PelÃ­culas  
- `GET /api/movies/search?query={query}&page={page}` - Buscar pelÃ­culas en TMDB
- `GET /api/movies/{movieId}` - Detalles de pelÃ­cula especÃ­fica

### Diario Personal
- `GET /api/diario?usuarioId={id}&page={page}&size={size}` - Obtener diario paginado
- `POST /api/diario/tmdb/{tmdbId}?usuarioId={id}&puntuacion={rating}&fechaVisionado={date}` - AÃ±adir pelÃ­cula al diario
- `PUT /api/diario/{entryId}?fechaVisionado={date}&puntuacion={rating}` - Actualizar entrada
- `DELETE /api/diario/{entryId}` - Eliminar entrada
- `GET /api/diario/{entryId}` - Obtener entrada especÃ­fica

### Watchlist
- `GET /api/watchlist?usuarioId={id}&page={page}&size={size}` - Obtener watchlist paginada
- `POST /api/watchlist/tmdb/{tmdbId}?usuarioId={id}` - AÃ±adir pelÃ­cula a watchlist
- `DELETE /api/watchlist/{peliculaId}?usuarioId={id}` - Eliminar de watchlist
- `GET /api/watchlist/check/{peliculaId}?usuarioId={id}` - Verificar si estÃ¡ en watchlist
- `GET /api/watchlist/count?usuarioId={id}` - Contar pelÃ­culas en watchlist

## ğŸ¨ Frontend - PÃ¡ginas y Funcionalidades

### 1. index.html (Login/Registro)
- **Funcionalidad**: Formulario dinÃ¡mico que cambia entre login y registro
- **JavaScript**: `auth.js`
- **Campos Login**: Email, Password
- **Campos Registro**: Username, Email, Password, Nombre (opt), Apellido (opt), Fecha Nac (opt)
- **Validaciones**: Frontend + backend (patrÃ³n contraseÃ±a, email vÃ¡lido)

### 2. dashboard.html (Dashboard Principal)
- **Funcionalidad**: PÃ¡gina principal post-login
- **JavaScript**: `dashboard.js`
- **Contenido**: 
  - Ãšltima pelÃ­cula vista (card con detalles)
  - Watchlist preview (3 pelÃ­culas + total count)
  - Enlaces a bÃºsqueda, diario completo, watchlist completa

### 3. search.html (BÃºsqueda de PelÃ­culas)
- **Funcionalidad**: BÃºsqueda en TMDB + acciones
- **JavaScript**: `search.js`
- **Contenido**:
  - Barra de bÃºsqueda
  - Grid de resultados (tÃ­tulo, poster, fecha, rating)
  - PaginaciÃ³n
  - Botones: "AÃ±adir a Watchlist", "AÃ±adir a Diario", "Ver Detalles"

### 4. movie-detail.html (Detalles de PelÃ­cula)
- **Funcionalidad**: Vista completa de pelÃ­cula individual
- **JavaScript**: `movie-detail.js`
- **Contenido**:
  - Poster grande, tÃ­tulo, fecha, duraciÃ³n, sinopsis
  - GÃ©neros, rating TMDB
  - Botones: "AÃ±adir a Watchlist", "AÃ±adir a Diario"
  - Si estÃ¡ en diario: mostrar puntuaciÃ³n personal

### 5. diary.html (Diario Personal)
- **Funcionalidad**: Tabla paginada + modal de ediciÃ³n
- **JavaScript**: `diary.js`
- **Contenido**:
  - Tabla: Mes, DÃ­a, Poster, TÃ­tulo, AÃ±o, PuntuaciÃ³n, Editar
  - Modal para editar: Fecha visionado, PuntuaciÃ³n (estrellas), Guardar/Cancelar
  - PaginaciÃ³n

### 6. watchlist.html (Lista por Ver)
- **Funcionalidad**: Grid de pelÃ­culas pendientes
- **JavaScript**: `watchlist.js`
- **Contenido**:
  - Grid de cards (poster, tÃ­tulo, fecha)
  - BotÃ³n eliminar por card
  - Contador total
  - BotÃ³n "Mover a Diario" (aÃ±ade al diario y quita de watchlist)

## ğŸ”§ ConfiguraciÃ³n y Setup

### Variables de Entorno
- `TMDB_API_KEY`: API key de The Movie Database

### Base de Datos
- MariaDB con esquemas: `usuario`, `pelicula`, `usuario_diario`, `usuario_watchlist`

### TecnologÃ­as Frontend
- **Bootstrap 5**: Framework CSS
- **JavaScript Vanilla**: Sin librerÃ­as adicionales
- **Arquitectura**: PÃ¡ginas HTML tradicionales (no SPA)
- **ComunicaciÃ³n**: Fetch API para llamadas al backend

## ğŸš€ Flujo de Usuario

1. **Login/Registro** (`index.html`) â†’ Token JWT almacenado
2. **Dashboard** (`dashboard.html`) â†’ Vista general + navegaciÃ³n
3. **BÃºsqueda** (`search.html`) â†’ Encontrar pelÃ­culas â†’ AÃ±adir a diario/watchlist
4. **Detalles** (`movie-detail.html`) â†’ Ver info completa â†’ Acciones
5. **Diario** (`diary.html`) â†’ Gestionar pelÃ­culas vistas â†’ Editar puntuaciones
6. **Watchlist** (`watchlist.html`) â†’ Gestionar pelÃ­culas por ver

## ğŸ“ Estado del Desarrollo

### Backend âœ… Completado
- AutenticaciÃ³n JWT
- IntegraciÃ³n TMDB
- CRUD Diario y Watchlist
- Validaciones y manejo de errores

### Frontend ğŸš§ En Desarrollo
- Estructura de archivos definida
- Wireframes y diseÃ±o planificado
- Pendiente: ImplementaciÃ³n HTML/CSS/JS

## ğŸ’¡ Notas TÃ©cnicas

- **AutenticaciÃ³n**: JWT en header `Authorization: Bearer {token}`
- **Manejo de Estados**: LocalStorage para token, variables JS para datos temporales
- **Validaciones**: Puntuaciones 0-5, fechas vÃ¡lidas, campos obligatorios
- **Responsive**: Bootstrap 5 grid system
- **Error Handling**: Try-catch + mensajes de usuario amigables